{"format_version":"1.2","terraform_version":"1.13.3","variables":{"db_name":{"value":"lirw_react_node_app"},"db_password":{"value":"Asd1-CaPQ22"},"db_username":{"value":"admin_3_tier"},"project_name":{"value":"lirw-three-tier-app"},"region":{"value":"us-east-1"},"terraform_state_bucket":{"value":"lirw-backend"}},"planned_values":{"outputs":{"db_endpoint":{"sensitive":false},"endpoint_address":{"sensitive":false}},"root_module":{"child_modules":[{"resources":[{"address":"module.aws_ssm_param.aws_ssm_parameter.db_host","mode":"managed","type":"aws_ssm_parameter","name":"db_host","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"allowed_pattern":null,"description":"database dns address","name":"DB_HOST","overwrite":null,"tags":{"environment":"dev"},"tags_all":{"environment":"dev"},"type":"String"},"sensitive_values":{"tags":{},"tags_all":{},"value":true}},{"address":"module.aws_ssm_param.aws_ssm_parameter.db_name","mode":"managed","type":"aws_ssm_parameter","name":"db_name","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"allowed_pattern":null,"description":"database name","name":"DB_NAME","overwrite":null,"tags":{"environment":"dev"},"tags_all":{"environment":"dev"},"type":"String","value":"lirw_react_node_app"},"sensitive_values":{"tags":{},"tags_all":{},"value":true}},{"address":"module.aws_ssm_param.aws_ssm_parameter.db_password","mode":"managed","type":"aws_ssm_parameter","name":"db_password","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"allowed_pattern":null,"description":"database password","name":"DB_PASSWORD","overwrite":null,"tags":{"environment":"dev"},"tags_all":{"environment":"dev"},"type":"SecureString","value":"Asd1-CaPQ22"},"sensitive_values":{"tags":{},"tags_all":{},"value":true}},{"address":"module.aws_ssm_param.aws_ssm_parameter.db_username","mode":"managed","type":"aws_ssm_parameter","name":"db_username","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"allowed_pattern":null,"description":"database username","name":"DB_USERNAME","overwrite":null,"tags":{"environment":"dev"},"tags_all":{"environment":"dev"},"type":"String","value":"admin_3_tier"},"sensitive_values":{"tags":{},"tags_all":{},"value":true}}],"address":"module.aws_ssm_param"},{"resources":[{"address":"module.rds.aws_db_instance.lirw-database","mode":"managed","type":"aws_db_instance","name":"lirw-database","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"allocated_storage":20,"allow_major_version_upgrade":null,"apply_immediately":false,"auto_minor_version_upgrade":true,"backup_retention_period":0,"blue_green_update":[],"copy_tags_to_snapshot":false,"custom_iam_instance_profile":null,"customer_owned_ip_enabled":null,"db_subnet_group_name":"lirw-db-subnet-a-b","delete_automated_backups":true,"deletion_protection":null,"domain":null,"domain_iam_role_name":null,"enabled_cloudwatch_logs_exports":null,"engine":"mysql","engine_version":"8.0.42","final_snapshot_identifier":null,"iam_database_authentication_enabled":null,"identifier":"lirw-dev-db","instance_class":"db.t4g.micro","manage_master_user_password":null,"max_allocated_storage":null,"monitoring_interval":0,"multi_az":false,"password":"Asd1-CaPQ22","performance_insights_enabled":false,"publicly_accessible":false,"replicate_source_db":null,"restore_to_point_in_time":[],"s3_import":[],"security_group_names":null,"skip_final_snapshot":true,"storage_encrypted":false,"storage_type":"standard","tags":{"Name":"appdb"},"tags_all":{"Name":"appdb"},"timeouts":null,"username":"admin_3_tier","vpc_security_group_ids":["sg-07c592db207cbe50a"]},"sensitive_values":{"blue_green_update":[],"listener_endpoint":[],"master_user_secret":[],"password":true,"replicas":[],"restore_to_point_in_time":[],"s3_import":[],"tags":{},"tags_all":{},"vpc_security_group_ids":[false]}},{"address":"module.rds.aws_db_subnet_group.db-subnet","mode":"managed","type":"aws_db_subnet_group","name":"db-subnet","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"description":"Managed by Terraform","name":"lirw-db-subnet-a-b","subnet_ids":["subnet-078f3a85b13172ab9","subnet-0a05d515b4a5163f6"],"tags":null},"sensitive_values":{"subnet_ids":[false,false],"supported_network_types":[],"tags_all":{}}}],"address":"module.rds"}]}},"resource_changes":[{"address":"module.aws_ssm_param.aws_ssm_parameter.db_host","module_address":"module.aws_ssm_param","mode":"managed","type":"aws_ssm_parameter","name":"db_host","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"allowed_pattern":null,"description":"database dns address","name":"DB_HOST","overwrite":null,"tags":{"environment":"dev"},"tags_all":{"environment":"dev"},"type":"String"},"after_unknown":{"arn":true,"data_type":true,"id":true,"insecure_value":true,"key_id":true,"tags":{},"tags_all":{},"tier":true,"value":true,"version":true},"before_sensitive":false,"after_sensitive":{"tags":{},"tags_all":{},"value":true}}},{"address":"module.aws_ssm_param.aws_ssm_parameter.db_name","module_address":"module.aws_ssm_param","mode":"managed","type":"aws_ssm_parameter","name":"db_name","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"allowed_pattern":null,"description":"database name","name":"DB_NAME","overwrite":null,"tags":{"environment":"dev"},"tags_all":{"environment":"dev"},"type":"String","value":"lirw_react_node_app"},"after_unknown":{"arn":true,"data_type":true,"id":true,"insecure_value":true,"key_id":true,"tags":{},"tags_all":{},"tier":true,"version":true},"before_sensitive":false,"after_sensitive":{"tags":{},"tags_all":{},"value":true}}},{"address":"module.aws_ssm_param.aws_ssm_parameter.db_password","module_address":"module.aws_ssm_param","mode":"managed","type":"aws_ssm_parameter","name":"db_password","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"allowed_pattern":null,"description":"database password","name":"DB_PASSWORD","overwrite":null,"tags":{"environment":"dev"},"tags_all":{"environment":"dev"},"type":"SecureString","value":"Asd1-CaPQ22"},"after_unknown":{"arn":true,"data_type":true,"id":true,"insecure_value":true,"key_id":true,"tags":{},"tags_all":{},"tier":true,"version":true},"before_sensitive":false,"after_sensitive":{"tags":{},"tags_all":{},"value":true}}},{"address":"module.aws_ssm_param.aws_ssm_parameter.db_username","module_address":"module.aws_ssm_param","mode":"managed","type":"aws_ssm_parameter","name":"db_username","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"allowed_pattern":null,"description":"database username","name":"DB_USERNAME","overwrite":null,"tags":{"environment":"dev"},"tags_all":{"environment":"dev"},"type":"String","value":"admin_3_tier"},"after_unknown":{"arn":true,"data_type":true,"id":true,"insecure_value":true,"key_id":true,"tags":{},"tags_all":{},"tier":true,"version":true},"before_sensitive":false,"after_sensitive":{"tags":{},"tags_all":{},"value":true}}},{"address":"module.rds.aws_db_instance.lirw-database","module_address":"module.rds","mode":"managed","type":"aws_db_instance","name":"lirw-database","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"allocated_storage":20,"allow_major_version_upgrade":null,"apply_immediately":false,"auto_minor_version_upgrade":true,"backup_retention_period":0,"blue_green_update":[],"copy_tags_to_snapshot":false,"custom_iam_instance_profile":null,"customer_owned_ip_enabled":null,"db_subnet_group_name":"lirw-db-subnet-a-b","delete_automated_backups":true,"deletion_protection":null,"domain":null,"domain_iam_role_name":null,"enabled_cloudwatch_logs_exports":null,"engine":"mysql","engine_version":"8.0.42","final_snapshot_identifier":null,"iam_database_authentication_enabled":null,"identifier":"lirw-dev-db","instance_class":"db.t4g.micro","manage_master_user_password":null,"max_allocated_storage":null,"monitoring_interval":0,"multi_az":false,"password":"Asd1-CaPQ22","performance_insights_enabled":false,"publicly_accessible":false,"replicate_source_db":null,"restore_to_point_in_time":[],"s3_import":[],"security_group_names":null,"skip_final_snapshot":true,"storage_encrypted":false,"storage_type":"standard","tags":{"Name":"appdb"},"tags_all":{"Name":"appdb"},"timeouts":null,"username":"admin_3_tier","vpc_security_group_ids":["sg-07c592db207cbe50a"]},"after_unknown":{"address":true,"arn":true,"availability_zone":true,"backup_window":true,"blue_green_update":[],"ca_cert_identifier":true,"character_set_name":true,"db_name":true,"endpoint":true,"engine_version_actual":true,"hosted_zone_id":true,"id":true,"identifier_prefix":true,"iops":true,"kms_key_id":true,"latest_restorable_time":true,"license_model":true,"listener_endpoint":true,"maintenance_window":true,"master_user_secret":true,"master_user_secret_kms_key_id":true,"monitoring_role_arn":true,"name":true,"nchar_character_set_name":true,"network_type":true,"option_group_name":true,"parameter_group_name":true,"performance_insights_kms_key_id":true,"performance_insights_retention_period":true,"port":true,"replica_mode":true,"replicas":true,"resource_id":true,"restore_to_point_in_time":[],"s3_import":[],"snapshot_identifier":true,"status":true,"storage_throughput":true,"tags":{},"tags_all":{},"timezone":true,"vpc_security_group_ids":[false]},"before_sensitive":false,"after_sensitive":{"blue_green_update":[],"listener_endpoint":[],"master_user_secret":[],"password":true,"replicas":[],"restore_to_point_in_time":[],"s3_import":[],"tags":{},"tags_all":{},"vpc_security_group_ids":[false]}}},{"address":"module.rds.aws_db_subnet_group.db-subnet","module_address":"module.rds","mode":"managed","type":"aws_db_subnet_group","name":"db-subnet","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"description":"Managed by Terraform","name":"lirw-db-subnet-a-b","subnet_ids":["subnet-078f3a85b13172ab9","subnet-0a05d515b4a5163f6"],"tags":null},"after_unknown":{"arn":true,"id":true,"name_prefix":true,"subnet_ids":[false,false],"supported_network_types":true,"tags_all":true,"vpc_id":true},"before_sensitive":false,"after_sensitive":{"subnet_ids":[false,false],"supported_network_types":[],"tags_all":{}}}}],"output_changes":{"db_endpoint":{"actions":["create"],"before":null,"after_unknown":true,"before_sensitive":false,"after_sensitive":false},"endpoint_address":{"actions":["create"],"before":null,"after_unknown":true,"before_sensitive":false,"after_sensitive":false}},"prior_state":{"format_version":"1.0","terraform_version":"1.13.3","values":{"root_module":{"resources":[{"address":"data.terraform_remote_state.network","mode":"data","type":"terraform_remote_state","name":"network","provider_name":"terraform.io/builtin/terraform","schema_version":0,"values":{"backend":"s3","config":{"bucket":"lirw-backend","key":"network/lirw-app.tfstate","region":"us-east-1"},"defaults":null,"outputs":{"alb_sg_id":"sg-0a415b954bb563a5d","client_sg_id":"sg-0b1c69ba52497f36d","db_sg_id":"sg-07c592db207cbe50a","igw_id":{"arn":"arn:aws:ec2:us-east-1:513410254332:internet-gateway/igw-0ffd8ce3ceb608414","id":"igw-0ffd8ce3ceb608414","owner_id":"513410254332","tags":{"Name":"lirw-three-tier-app-igw"},"tags_all":{"Name":"lirw-three-tier-app-igw"},"timeouts":null,"vpc_id":"vpc-055738207ce5153df"},"internal_alb_sg_id":"sg-0536fa87e6bb981e2","lirw_bucket_name":"lirw-app-bucket","pri_rt_a_id":"rtb-06f1a6be06a419cac","pri_rt_b_id":"rtb-01ef2b0b1fada5581","pri_sub_3a_id":"subnet-0dec5c13c98f08789","pri_sub_4b_id":"subnet-06f22a4b68497468a","pri_sub_5a_id":"subnet-033491d7f6ae733f5","pri_sub_6b_id":"subnet-087ecc242516a4e3f","pri_sub_7a_id":"subnet-0a05d515b4a5163f6","pri_sub_8b_id":"subnet-078f3a85b13172ab9","project_name":"lirw-three-tier-app","pub_sub_1a_id":"subnet-0dc6995c7787f1d58","pub_sub_2b_id":"subnet-01b89a75f0dcbf04e","region":"us-east-1","server_sg_id":"sg-07969f0fd2896112e","vpc_cidr_block":"10.0.0.0/16","vpc_id":"vpc-055738207ce5153df"},"workspace":null},"sensitive_values":{"config":{},"outputs":{"igw_id":{"tags":{},"tags_all":{}}}}},{"address":"data.terraform_remote_state.permissions","mode":"data","type":"terraform_remote_state","name":"permissions","provider_name":"terraform.io/builtin/terraform","schema_version":0,"values":{"backend":"s3","config":{"bucket":"lirw-backend","key":"permissions/lirw-app.tfstate","region":"us-east-1"},"defaults":null,"outputs":{"certificate_arn":"arn:aws:acm:us-east-1:513410254332:certificate/996360c1-8ef5-454c-a8dc-2f062eff1fed","certificate_domain_name":"devsandbox.space","certificate_status":"PENDING_VALIDATION","client_key_name":"client_key","s3_ssm_cw_instance_profile_name":"S3-SSM-CW-Profile","s3_ssm_cw_role_name":"S3-SSM-CW-Role","server_key_name":"server_key"},"workspace":null},"sensitive_values":{"config":{},"outputs":{}}}]}}},"configuration":{"provider_config":{"aws":{"name":"aws","full_name":"registry.terraform.io/hashicorp/aws","version_constraint":"4.67.0","expressions":{"region":{"references":["data.terraform_remote_state.network.outputs.region","data.terraform_remote_state.network.outputs","data.terraform_remote_state.network"]}}},"terraform":{"name":"terraform","full_name":"terraform.io/builtin/terraform"}},"root_module":{"outputs":{"db_endpoint":{"expression":{"references":["module.rds.db_endpoint","module.rds"]},"description":"db instance  endpoint for db instance"},"endpoint_address":{"expression":{"references":["module.rds.endpoint_address","module.rds"]},"description":"dns address for db instance endpoint"}},"resources":[{"address":"data.terraform_remote_state.network","mode":"data","type":"terraform_remote_state","name":"network","provider_config_key":"terraform","expressions":{"backend":{"constant_value":"s3"},"config":{"references":["var.terraform_state_bucket","var.region"]}},"schema_version":0},{"address":"data.terraform_remote_state.permissions","mode":"data","type":"terraform_remote_state","name":"permissions","provider_config_key":"terraform","expressions":{"backend":{"constant_value":"s3"},"config":{"references":["var.terraform_state_bucket","var.region"]}},"schema_version":0}],"module_calls":{"aws_ssm_param":{"source":"./modules/aws_ssm_param","expressions":{"db_dns_address":{"references":["module.rds.endpoint_address","module.rds"]},"db_name":{"references":["var.db_name"]},"db_password":{"references":["var.db_password"]},"db_username":{"references":["var.db_username"]},"project_name":{"references":["data.terraform_remote_state.network.outputs.project_name","data.terraform_remote_state.network.outputs","data.terraform_remote_state.network"]}},"module":{"resources":[{"address":"aws_ssm_parameter.db_host","mode":"managed","type":"aws_ssm_parameter","name":"db_host","provider_config_key":"aws","expressions":{"description":{"constant_value":"database dns address"},"name":{"constant_value":"DB_HOST"},"tags":{"constant_value":{"environment":"dev"}},"type":{"constant_value":"String"},"value":{"references":["var.db_dns_address"]}},"schema_version":0},{"address":"aws_ssm_parameter.db_name","mode":"managed","type":"aws_ssm_parameter","name":"db_name","provider_config_key":"aws","expressions":{"description":{"constant_value":"database name"},"name":{"constant_value":"DB_NAME"},"tags":{"constant_value":{"environment":"dev"}},"type":{"constant_value":"String"},"value":{"references":["var.db_name"]}},"schema_version":0},{"address":"aws_ssm_parameter.db_password","mode":"managed","type":"aws_ssm_parameter","name":"db_password","provider_config_key":"aws","expressions":{"description":{"constant_value":"database password"},"name":{"constant_value":"DB_PASSWORD"},"tags":{"constant_value":{"environment":"dev"}},"type":{"constant_value":"SecureString"},"value":{"references":["var.db_password"]}},"schema_version":0},{"address":"aws_ssm_parameter.db_username","mode":"managed","type":"aws_ssm_parameter","name":"db_username","provider_config_key":"aws","expressions":{"description":{"constant_value":"database username"},"name":{"constant_value":"DB_USERNAME"},"tags":{"constant_value":{"environment":"dev"}},"type":{"constant_value":"String"},"value":{"references":["var.db_username"]}},"schema_version":0}],"variables":{"db_dns_address":{},"db_name":{},"db_password":{},"db_username":{},"project_name":{}}},"depends_on":["module.rds"]},"rds":{"source":"./modules/rds","expressions":{"db_password":{"references":["var.db_password"]},"db_sg_id":{"references":["data.terraform_remote_state.network.outputs.db_sg_id","data.terraform_remote_state.network.outputs","data.terraform_remote_state.network"]},"db_username":{"references":["var.db_username"]},"pri_sub_7a_id":{"references":["data.terraform_remote_state.network.outputs.pri_sub_7a_id","data.terraform_remote_state.network.outputs","data.terraform_remote_state.network"]},"pri_sub_8b_id":{"references":["data.terraform_remote_state.network.outputs.pri_sub_8b_id","data.terraform_remote_state.network.outputs","data.terraform_remote_state.network"]}},"module":{"outputs":{"db_endpoint":{"expression":{"references":["aws_db_instance.lirw-database.endpoint","aws_db_instance.lirw-database"]},"description":"db instance  endpoint for db instance"},"endpoint_address":{"expression":{"references":["aws_db_instance.lirw-database.address","aws_db_instance.lirw-database"]},"description":"dns address for db instance endpoint"}},"resources":[{"address":"aws_db_instance.lirw-database","mode":"managed","type":"aws_db_instance","name":"lirw-database","provider_config_key":"aws","expressions":{"allocated_storage":{"constant_value":20},"backup_retention_period":{"constant_value":0},"db_subnet_group_name":{"references":["aws_db_subnet_group.db-subnet.name","aws_db_subnet_group.db-subnet"]},"engine":{"constant_value":"mysql"},"engine_version":{"constant_value":"8.0.42"},"identifier":{"constant_value":"lirw-dev-db"},"instance_class":{"constant_value":"db.t4g.micro"},"multi_az":{"constant_value":false},"password":{"references":["var.db_password"]},"publicly_accessible":{"constant_value":false},"skip_final_snapshot":{"constant_value":true},"storage_encrypted":{"constant_value":false},"storage_type":{"constant_value":"standard"},"tags":{"constant_value":{"Name":"appdb"}},"username":{"references":["var.db_username"]},"vpc_security_group_ids":{"references":["var.db_sg_id"]}},"schema_version":1},{"address":"aws_db_subnet_group.db-subnet","mode":"managed","type":"aws_db_subnet_group","name":"db-subnet","provider_config_key":"aws","expressions":{"name":{"references":["var.db_sub_name"]},"subnet_ids":{"references":["var.pri_sub_7a_id","var.pri_sub_8b_id"]}},"schema_version":0}],"variables":{"db_password":{},"db_sg_id":{},"db_sub_name":{"default":"lirw-db-subnet-a-b"},"db_username":{},"pri_sub_7a_id":{},"pri_sub_8b_id":{}}}}},"variables":{"db_name":{},"db_password":{},"db_username":{},"project_name":{},"region":{},"terraform_state_bucket":{}}}},"relevant_attributes":[{"resource":"data.terraform_remote_state.network","attribute":["outputs"]},{"resource":"module.rds.aws_db_instance.lirw-database","attribute":["address"]},{"resource":"module.rds.aws_db_subnet_group.db-subnet","attribute":["name"]},{"resource":"module.rds.aws_db_instance.lirw-database","attribute":["endpoint"]}],"timestamp":"2025-11-03T16:30:02Z","applyable":true,"complete":true,"errored":false}
